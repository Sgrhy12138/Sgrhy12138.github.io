<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title> [ Hexo ]</title><link rel="stylesheet" href="/css/temp.css"><meta name="generator" content="Hexo 5.4.0"></head><body><div id="menu-outer"><nav id="menu-inner"><a href="/">Home</a><a href="/about">About</a><a href="/contact">Contact</a><a href="/archives">Archives</a></nav></div><div id="content-outer"><div id="content-inner"><article id="post"><h1></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> LL long long</span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e6</span>+<span class="number">5</span>;</span><br><span class="line"><span class="keyword">int</span> T,n;</span><br><span class="line"><span class="keyword">int</span> a[maxn],nxt[maxn];</span><br><span class="line"><span class="keyword">int</span> ans[maxn],s[maxn];</span><br><span class="line"><span class="keyword">int</span> l,r,ll,rr,top;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y,<span class="keyword">int</span> xl,<span class="keyword">int</span> xr)</span></span></span><br><span class="line"><span class="function"></span>&#123;    </span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">2</span>*n;i++)        <span class="keyword">if</span> (((a[i]==x&amp;&amp;a[i+<span class="number">1</span>]==y)||(a[i]==y&amp;&amp;a[i+<span class="number">1</span>]==x))&amp;&amp;(i!=xl&amp;&amp;i+<span class="number">1</span>!=xr)) <span class="keyword">return</span> ll=i;    <span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)        <span class="keyword">if</span> (ans[i]==<span class="number">1</span>) <span class="built_in">printf</span>(<span class="string">&quot;L&quot;</span>);            <span class="keyword">else</span> <span class="built_in">printf</span>(<span class="string">&quot;R&quot;</span>);    <span class="keyword">for</span> (<span class="keyword">int</span> i=n;i;i--) &#123;        <span class="keyword">if</span> (s[i]==a[ll]) &#123;ll++,<span class="built_in">printf</span>(<span class="string">&quot;L&quot;</span>); <span class="keyword">continue</span>;&#125;        <span class="keyword">if</span> (s[i]==a[rr]) rr--,<span class="built_in">printf</span>(<span class="string">&quot;R&quot;</span>);    &#125;    <span class="built_in">printf</span>(<span class="string">&quot;\n&quot;</span>);&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;T);    <span class="keyword">while</span> (T--) &#123;        <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;n);        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">2</span>*n;i++) <span class="built_in">scanf</span>(<span class="string">&quot;%d&quot;</span>,&amp;a[i]);        <span class="keyword">if</span> (n&lt;=<span class="number">1</span>) &#123;<span class="built_in">printf</span>(<span class="string">&quot;LL\n&quot;</span>); <span class="keyword">continue</span>;&#125;        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;<span class="number">2</span>*n;i++) nxt[a[i]]=a[i+<span class="number">1</span>];        l=<span class="number">1</span>,r=<span class="number">2</span>*n;                <span class="keyword">if</span> (<span class="built_in">get</span>(a[l],a[l+<span class="number">1</span>],l,l+<span class="number">1</span>)) &#123;            rr=ll+<span class="number">1</span>,l+=<span class="number">2</span>;            ans[<span class="number">1</span>]=<span class="number">1</span>,ans[top=<span class="number">2</span>]=<span class="number">1</span>,s[<span class="number">1</span>]=a[<span class="number">1</span>],s[<span class="number">2</span>]=a[<span class="number">2</span>];            <span class="keyword">while</span> (<span class="number">1</span>) &#123;                <span class="keyword">if</span> (a[l]==a[ll<span class="number">-1</span>]&amp;&amp;ll-l&gt;<span class="number">1</span>) &#123;ans[++top]=<span class="number">1</span>,s[top]=a[l],ll--,l++; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[l]==a[rr+<span class="number">1</span>]&amp;&amp;l&lt;ll&amp;&amp;rr&lt;r) &#123;ans[++top]=<span class="number">1</span>,s[top]=a[l],rr++,l++; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[r]==a[ll<span class="number">-1</span>]&amp;&amp;rr&lt;r&amp;&amp;l&lt;ll) &#123;ans[++top]=<span class="number">2</span>,s[top]=a[r],ll--,r--; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[r]==a[rr+<span class="number">1</span>]&amp;&amp;r-rr&gt;<span class="number">1</span>) &#123;ans[++top]=<span class="number">2</span>,s[top]=a[r],rr++,r--; <span class="keyword">continue</span>;&#125;                <span class="keyword">break</span>;            &#125;            <span class="keyword">if</span> (top==n) &#123;<span class="built_in">print</span>(); <span class="keyword">continue</span>;&#125;        &#125;        l=<span class="number">1</span>,r=<span class="number">2</span>*n;        <span class="keyword">if</span> (<span class="built_in">get</span>(a[l],a[r],l,l+<span class="number">1</span>)) &#123;            rr=ll+<span class="number">1</span>,l++,r--;            ans[<span class="number">1</span>]=<span class="number">1</span>,ans[top=<span class="number">2</span>]=<span class="number">2</span>,s[<span class="number">1</span>]=a[<span class="number">1</span>],s[<span class="number">2</span>]=a[<span class="number">2</span>*n];            <span class="keyword">while</span> (<span class="number">1</span>) &#123;                <span class="keyword">if</span> (a[l]==a[ll<span class="number">-1</span>]&amp;&amp;ll-l&gt;<span class="number">1</span>) &#123;ans[++top]=<span class="number">1</span>,s[top]=a[l],ll--,l++; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[l]==a[rr+<span class="number">1</span>]&amp;&amp;l&lt;ll&amp;&amp;rr&lt;r) &#123;ans[++top]=<span class="number">1</span>,s[top]=a[l],rr++,l++; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[r]==a[ll<span class="number">-1</span>]&amp;&amp;rr&lt;r&amp;&amp;l&lt;ll) &#123;ans[++top]=<span class="number">2</span>,s[top]=a[r],ll--,r--; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[r]==a[rr+<span class="number">1</span>]&amp;&amp;r-rr&gt;<span class="number">1</span>) &#123;ans[++top]=<span class="number">2</span>,s[top]=a[r],rr++,r--; <span class="keyword">continue</span>;&#125;                <span class="keyword">break</span>;            &#125;            <span class="keyword">if</span> (top==n) &#123;<span class="built_in">print</span>(); <span class="keyword">continue</span>;&#125;        &#125;        l=<span class="number">1</span>,r=<span class="number">2</span>*n;        <span class="keyword">if</span> (<span class="built_in">get</span>(a[r],a[r<span class="number">-1</span>],r<span class="number">-1</span>,r)) &#123;            rr=ll+<span class="number">1</span>,r-=<span class="number">2</span>;            ans[<span class="number">1</span>]=<span class="number">2</span>,ans[top=<span class="number">2</span>]=<span class="number">2</span>,s[<span class="number">1</span>]=a[<span class="number">2</span>*n],s[<span class="number">2</span>]=a[<span class="number">2</span>*n<span class="number">-1</span>];            <span class="keyword">while</span> (<span class="number">1</span>) &#123;                <span class="keyword">if</span> (a[l]==a[ll<span class="number">-1</span>]&amp;&amp;ll-l&gt;<span class="number">1</span>) &#123;ans[++top]=<span class="number">1</span>,s[top]=a[l],ll--,l++; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[l]==a[rr+<span class="number">1</span>]&amp;&amp;l&lt;ll&amp;&amp;rr&lt;r) &#123;ans[++top]=<span class="number">1</span>,s[top]=a[l],rr++,l++; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[r]==a[ll<span class="number">-1</span>]&amp;&amp;rr&lt;r&amp;&amp;l&lt;ll) &#123;ans[++top]=<span class="number">2</span>,s[top]=a[r],ll--,r--; <span class="keyword">continue</span>;&#125;                <span class="keyword">if</span> (a[r]==a[rr+<span class="number">1</span>]&amp;&amp;r-rr&gt;<span class="number">1</span>) &#123;ans[++top]=<span class="number">2</span>,s[top]=a[r],rr++,r--; <span class="keyword">continue</span>;&#125;                <span class="keyword">break</span>;            &#125;            <span class="keyword">if</span> (top==n) &#123;<span class="built_in">print</span>(); <span class="keyword">continue</span>;&#125;        &#125;        <span class="built_in">printf</span>(<span class="string">&quot;-1\n&quot;</span>);    &#125;        <span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br></pre></td></tr></table></figure>
</article><div id="paginator"></div></div></div><div id="bottom-outer"><div id="bottom-inner"><span>Site construction by</span><span> John Doe </span><span>using</span><a target="_blank" rel="noopener" href="http://hexo.io"><span>hexo blog framework</span></a><span>.</span><br><a href="/">Home</a></div></div><script src="/js/temp.js"></script></body></html>